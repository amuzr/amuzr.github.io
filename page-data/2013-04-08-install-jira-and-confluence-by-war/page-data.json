{"componentChunkName":"component---src-templates-post-tsx","path":"/2013-04-08-install-jira-and-confluence-by-war/","webpackCompilationHash":"56db95eabb2ab0897d03","result":{"data":{"markdownRemark":{"html":"<p>회사들어와서 가장먼저 리눅스를 건들게 된 계기가 된 요 두 프로그램.</p>\n<p>간단하게 얘네가 뭐하는 놈들이냐 하면.</p>\n<p>Jira 는 국내에 더 많이 알려진 redmine 같은 프로그램이다. 이슈들을 등록하고 관리하고 뭐 그런것들이고 플러그인들이 좋은게 너무많다.\n하지만 전~부 유료라서 돈많으면 편하다… 에자일 프로세스할 때 유용하다.\nConfluence 는 사내 wiki 정도로 보면된다. space에 블로그를 포스팅해서 서로 공유하는 거다.</p>\n<p>그냥 standalone 으로 한번에 설치하면 쉽게 쓸 수 있는거 뭐좀 해보겠다고 war 로 받아서 1주일이상을 삽질한것 같다.\n메뉴얼은 영문밖에 없고 한글판 배포하는 회사들도 그렇게 도움이 안된다.</p>\n<p>현재 우리회사에서는 두 프로그램 다 스타터버전으로 10명이하 10불내고 사용하고 있으며,\n구입후 1년정도는 지속적인 업그레이드 제품을 다운받을수있다. 그래서 새버전나올때마다 업그레이드 하고있다.\nTrial 버전은 한달을 무료로 사용할 수 있다.\n자세한 설명과 다운은 요기서 ! <a href=\"http://www.atlassian.com\">http://www.atlassian.com</a>\n매달 사용료를 지불하는 OnDemand 와 한번에 지불하고 쭉 사용하는 Download 버전 두가지가 있다.</p>\n<p>환경은 지난번 포스팅 글이랑 똑같다. centos 6.3 + nginx 1.2.7(지금은 1.2.8) + httpd 2.4 + mod_jk + tomcat 6 &#x26; tomcat 7</p>\n<p>설치하기전에 간단하게 알아두어야 할 점은 이렇다.</p>\n<ul>\n<li>JIRA는 java 7 + tomcat 7 에서 설치가 가능하다. 그 이하 버전에서도 물론 잘된다.</li>\n<li>Confluence 는 java 7 은 지원하지만 tomcat 6 에서만 돌아간다. 그래서 mod_jk 를 써서 연결하도록 한다.</li>\n<li>내장DB를 사용하는 방법도 있고 기존 쓰던 DB에 데이터베이스만 만들어서 사용할 수 있다.\n(JIRA 는 mysql에 Confluence 는 Embedded DB 를 사용해서 설치했다.)</li>\n</ul>\n<h2>JIRA 설치.</h2>\n<p><a href=\"http://www.atlassian.com/software/jira/download\">http://www.atlassian.com/software/jira/download</a>\n리눅스에 설치할 것이기 때문에 맞는 것을 다운받는다.\nJIRA 5.2.10 WAR (TAR.GZ Archive) 현재는 이파일이 가장 최신이다.\n항상 이런 파일들은 /usr/local/src 에 받는다. (임시 다운로드 폴더 처럼 쓰고 있다)</p>\n<p>wget 으로 받을때 윈도환경에서 크롬으로 다운받고 받는 도중 다운로드창에서 파일 경로를 복사해서 받는다.</p>\n<p>그리고 local 로 옮겨준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># cd /usr/local/src</span>\n\n<span class=\"token comment\"># wget http://wpc.29c4.edgecastcdn.net/8029C4/downloads/software/jira/downloads/atlassian-jira-5.2.10-war.tar.gz</span>\n\n<span class=\"token comment\"># tar -zxvf atlassian-jira-5.2.10-war.tar.gz</span>\n\n<span class=\"token comment\"># mv atlassian-jira-5.2.10-war /usr/local/atlassian-jira-5.2.10</span>\n\n<span class=\"token comment\"># cd /usr/local/atlassian-jira-5.2.10</span></code></pre></div>\n<p>이제 build 를 해야하는데 build 를 하기전에 어플리케이션이 돌때 사용하는 파일들을 어디에 저장할지 지정해주어야한다.\n(WAR 압축 해제를 시킬 곳.)\nvi 에디터로 아래와 같이 수정. 뭐 이파일 수정하지말라고 하는데 그냥 해도된다..\n원래 공식홈에서는 JIRA_HOME 이라는 환경변수를 주고 거기에 이 경로를 넣어주라고 하는데.. 이걸로는 잘설치가 안되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi edit-webapp/WEB-INF/classes/jira-application.properties</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">jira.home</span> <span class=\"token punctuation\">=</span> <span class=\"token attr-value\">/usr/local/jira-5.2.10</span></code></pre></div>\n<p>그리고 build 해준다.\n오류 없이 잘끝나면 성공!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./build.sh</code></pre></div>\n<p>이제 톰캣에 이놈을 붙여주어야 한다.\n그러기전에 아래처럼 환경설정 파일을 하나 만들어주자. 자바 힙메모리를 늘려준다거나 하는거..\n보통 이클립스실행할때 ini 에 설정해주는 놈들이랑 비슷한애들이다.\nXms - 최소메모리\nXmx - 최대메모리\nXX:MaxPermSize - Permanant Area Size 를 말하는거 같은데.. 어째든 셋다 똑같이 준다.\n웬만해선 512씩 줘도 상관없다. 768일때 제일 최적의 속도가 나오는듯해서.. 원래 1024쓰고있었다 ㅋㅋ</p>\n<p>그리고 아래와 같은 파일을 tomcat 6 에도 복사해준다. (Confluence 설치할 때도 쓴다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># cd /usr/local/tomcat7</span>\n\n<span class=\"token comment\"># touch bin/setenv.sh</span>\n\n<span class=\"token comment\"># vi bin/setenv.sh</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CATALINA_OPTS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-Dorg.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true -Dmail.mime.decodeparameters=true -Xms768m -Xmx768m -XX:MaxPermSize=768m\"</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># cp bin/setenv.sh /usr/local/tomcat6/bin/</span></code></pre></div>\n<p>이제 server.xml 을 수정하면 되는데 공홈메뉴얼에서는 이렇게 설명하고 있다.\nbuild 된 디렉토리에서\ndist-tomcat/tomcat-6/jira.xml 파일의 내용을 복사해서 넣어줘라!\n이게 그 내용이니까 그냥 복사 붙여넣기 하자~!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /usr/local/tomcat7/conf/server.xml</span></code></pre></div>\n<p>요로코롬 Host 어쩌구 시작하는 곳 밑에 넣어준다.\n…</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Host</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>localhost<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">appBase</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>webapps<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token attr-name\">unpackWARs</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autoDeploy</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">xmlValidation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">xmlNamespaceAware</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Context</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/jira<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">docBase</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/usr/local/atlassian-jira-5.2.10/dist-tomcat/tomcat-6/atlassian-jira-5.2.10.war<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">debug</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">useHttpOnly</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Resource</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UserTransaction<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">auth</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Container<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javax.transaction.UserTransaction<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">factory</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>org.objectweb.jotm.UserTransactionFactory<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">jotm.timeout</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Manager</span> <span class=\"token attr-name\">pathname</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Context</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>그리고 mysql 드라이버와 관련 라이브러리들을 복사해서 넣어주어야 한다. 다운은 요기서.\n<a href=\"http://dev.mysql.com/downloads/connector/j\">http://dev.mysql.com/downloads/connector/j</a></p>\n<ul>\n<li>Tomcat 6 JARs: <a href=\"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-6x.zip\">http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-6x.zip</a></li>\n<li>Tomcat 7 JARs: <a href=\"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-7x.zip\">http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-7x.zip</a></li>\n</ul>\n<p>mysql database 를 하나 만들자.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> jira <span class=\"token keyword\">CHARACTER</span> <span class=\"token keyword\">SET</span> utf8 <span class=\"token keyword\">COLLATE</span> utf8_bin<span class=\"token punctuation\">;</span></code></pre></div>\n<p>jdbc 를 이용하는방법과 DataSource를 이용하는 방법 두가지가 있는데 두번째방법은 아래를 참고..(ㅠㅠ해보질 않았다..)\n<a href=\"https://confluence.atlassian.com/display/JIRA/Installing+JIRA+on+Tomcat+6.0+or+7.0\">https://confluence.atlassian.com/display/JIRA/Installing+JIRA+on+Tomcat+6.0+or+7.0</a></p>\n<p>세팅이 잘 되었다면\n<a href=\"http://127.0.0.1:8090/jira\">http://127.0.0.1:8090/jira</a> 하면 접속이 가능하다.\nnginx+mod<em>jk 를 통해 연결을 해주었다면 <a href=\"http://%EB%8F%84%EB%A9%94%EC%9D%B8/jira\">http://도메인/jira</a> 로 접속이 가능하다.\n[mod</em>jk 설정방법은 요기서 !]:{{ site.url }}</p>\n<p>nginx 랑 httpd 두놈은 프록시로 연결해주어야 한다.\nhttpd 는 미리 8080 포트를 이용하게 세팅을 해놓았다 . 아래처럼 연결~!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /etc/nginx/conf.d/virtual.conf</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\nserver {\nlisten 80;\nserver_name develop.amuzr.com;\n\n    charset utf-8;\n\n    location / {\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_pass http://127.0.0.1:8080;\n    }\n\n}\n...</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /usr/local/apache2/conf/httpd.conf</span></code></pre></div>\n<p>52번째줄 정도에 port 번호를 8080으로수정.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /etc/nginx/nginx.conf</span></code></pre></div>\n<p>프록시 연결시간을 쪼~끔 늘려주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#proxy &amp; fastcgi setting</span>\nproxy_read_timeout 1800s<span class=\"token punctuation\">;</span>\nproxy_buffer_size 32k<span class=\"token punctuation\">;</span>\nproxy_buffers <span class=\"token number\">4</span> 64k<span class=\"token punctuation\">;</span>\nproxy_busy_buffers_size 64k<span class=\"token punctuation\">;</span></code></pre></div>\n<p>세팅중 아래와 같은 에러들을 볼 수 있기 때문에 미리 조치한다.</p>\n<p>-java.netSocketException: Too many open files</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ulimit -a</span>\n\n<span class=\"token comment\"># ulimit -n 4096</span></code></pre></div>\n<p>재시작할때 같은 문제를 겪지 않기 위해</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /etc/security/limits.conf</span></code></pre></div>\n<p>파일에도 적용한다.</p>\n<p>-Packet for query is too large</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># vi /etc/my.cnf</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">..</span>.\nmax_allowed_packet <span class=\"token operator\">=</span> 32M\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>이렇게 수정한다.</p>\n<h2>Confluence 설치</h2>\n<p>Confluence 설치는 JIRA 와 크게 다르지 않다.\n같은 방법으로 압축을 풀어주고 데이터 폴더를 지정해주고 server.xml 에 context 를 복사해서 넣어주면 끝이다.\n데이터폴더를 confluence 설치폴더 안에 data 폴더를 만들고 넣어주었다.\n/usr/local/src 에 다운 받아서 압축을 풀었다고 가정하고 진행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># mv /usr/local/src/confluence-5.1 /usr/local/</span>\n\n<span class=\"token comment\"># cd /usr/local/confluence-5.1</span>\n\n<span class=\"token comment\"># vi confluence/WEB-INF/classes/confluence-init.properties</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\">..\n<span class=\"token attr-name\">confluence.home</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">/usr/local/confluence-5.1/data/</span>\n..</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ./build.sh</span>\n\n<span class=\"token comment\"># vi /usr/local/tomcat6/conf/server.xml</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Context</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/confluence<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">docBase</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/usr/local/confluence-5.1/dist/confluence-5.1.war<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">debug</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">reloadable</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Context</span><span class=\"token punctuation\">></span></span>\n...</code></pre></div>\n<p>confluence 도 mysql 을 쓰려면 mysql 커넥터드라이버를 넣어주어야 한다.</p>\n<p>이제\n<a href=\"http://%EB%8F%84%EB%A9%94%EC%9D%B8/jira\">http://도메인/jira</a>\n<a href=\"http://%EB%8F%84%EB%A9%94%EC%9D%B8/confluence\">http://도메인/confluence</a></p>\n<p>으로 접속하여 설치를 진행하면 된다. 이부분부터는 크게 어렵지 않다.\n중간에 mysql 세팅할때 unicode ~~ utf8 복사해서 잘 넣어준다.</p>\n<p>만약 중간에 쓰던 파일이 있을경우 설치 도중 import existing 어쩌구.. 하는 부분을 눈여겨 봐서 클릭을해서 가져와야한다.</p>\n<p>기본적으로 jira confluence 는 주기적으로 xml파일로 백업을해서 압축해서 저장하고 있다. 백업옵션은 나중에 바꿀 수 있으며 용량이 크지 않다.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"회사들어와서 가장먼저 리눅스를 건들게 된 계기가 된 요 두 프로그램."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"간단하게 얘네가 뭐하는 놈들이냐 하면."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jira 는 국내에 더 많이 알려진 redmine 같은 프로그램이다. 이슈들을 등록하고 관리하고 뭐 그런것들이고 플러그인들이 좋은게 너무많다.\n하지만 전~부 유료라서 돈많으면 편하다… 에자일 프로세스할 때 유용하다.\nConfluence 는 사내 wiki 정도로 보면된다. space에 블로그를 포스팅해서 서로 공유하는 거다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그냥 standalone 으로 한번에 설치하면 쉽게 쓸 수 있는거 뭐좀 해보겠다고 war 로 받아서 1주일이상을 삽질한것 같다.\n메뉴얼은 영문밖에 없고 한글판 배포하는 회사들도 그렇게 도움이 안된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 우리회사에서는 두 프로그램 다 스타터버전으로 10명이하 10불내고 사용하고 있으며,\n구입후 1년정도는 지속적인 업그레이드 제품을 다운받을수있다. 그래서 새버전나올때마다 업그레이드 하고있다.\nTrial 버전은 한달을 무료로 사용할 수 있다.\n자세한 설명과 다운은 요기서 ! "},{"type":"element","tagName":"a","properties":{"href":"http://www.atlassian.com"},"children":[{"type":"text","value":"http://www.atlassian.com"}]},{"type":"text","value":"\n매달 사용료를 지불하는 OnDemand 와 한번에 지불하고 쭉 사용하는 Download 버전 두가지가 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"환경은 지난번 포스팅 글이랑 똑같다. centos 6.3 + nginx 1.2.7(지금은 1.2.8) + httpd 2.4 + mod_jk + tomcat 6 & tomcat 7"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"설치하기전에 간단하게 알아두어야 할 점은 이렇다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"JIRA는 java 7 + tomcat 7 에서 설치가 가능하다. 그 이하 버전에서도 물론 잘된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Confluence 는 java 7 은 지원하지만 tomcat 6 에서만 돌아간다. 그래서 mod_jk 를 써서 연결하도록 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"내장DB를 사용하는 방법도 있고 기존 쓰던 DB에 데이터베이스만 만들어서 사용할 수 있다.\n(JIRA 는 mysql에 Confluence 는 Embedded DB 를 사용해서 설치했다.)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"JIRA 설치."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.atlassian.com/software/jira/download"},"children":[{"type":"text","value":"http://www.atlassian.com/software/jira/download"}]},{"type":"text","value":"\n리눅스에 설치할 것이기 때문에 맞는 것을 다운받는다.\nJIRA 5.2.10 WAR (TAR.GZ Archive) 현재는 이파일이 가장 최신이다.\n항상 이런 파일들은 /usr/local/src 에 받는다. (임시 다운로드 폴더 처럼 쓰고 있다)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"wget 으로 받을때 윈도환경에서 크롬으로 다운받고 받는 도중 다운로드창에서 파일 경로를 복사해서 받는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 local 로 옮겨준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# cd /usr/local/src"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# wget http://wpc.29c4.edgecastcdn.net/8029C4/downloads/software/jira/downloads/atlassian-jira-5.2.10-war.tar.gz"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# tar -zxvf atlassian-jira-5.2.10-war.tar.gz"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# mv atlassian-jira-5.2.10-war /usr/local/atlassian-jira-5.2.10"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# cd /usr/local/atlassian-jira-5.2.10"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 build 를 해야하는데 build 를 하기전에 어플리케이션이 돌때 사용하는 파일들을 어디에 저장할지 지정해주어야한다.\n(WAR 압축 해제를 시킬 곳.)\nvi 에디터로 아래와 같이 수정. 뭐 이파일 수정하지말라고 하는데 그냥 해도된다..\n원래 공식홈에서는 JIRA_HOME 이라는 환경변수를 주고 거기에 이 경로를 넣어주라고 하는데.. 이걸로는 잘설치가 안되었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi edit-webapp/WEB-INF/classes/jira-application.properties"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"properties"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"jira.home"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"text","value":"/usr/local/jira-5.2.10"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 build 해준다.\n오류 없이 잘끝나면 성공!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"./build.sh"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 톰캣에 이놈을 붙여주어야 한다.\n그러기전에 아래처럼 환경설정 파일을 하나 만들어주자. 자바 힙메모리를 늘려준다거나 하는거..\n보통 이클립스실행할때 ini 에 설정해주는 놈들이랑 비슷한애들이다.\nXms - 최소메모리\nXmx - 최대메모리\nXX:MaxPermSize - Permanant Area Size 를 말하는거 같은데.. 어째든 셋다 똑같이 준다.\n웬만해선 512씩 줘도 상관없다. 768일때 제일 최적의 속도가 나오는듯해서.. 원래 1024쓰고있었다 ㅋㅋ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 아래와 같은 파일을 tomcat 6 에도 복사해준다. (Confluence 설치할 때도 쓴다.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# cd /usr/local/tomcat7"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# touch bin/setenv.sh"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi bin/setenv.sh"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"CATALINA_OPTS"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-Dorg.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true -Dmail.mime.decodeparameters=true -Xms768m -Xmx768m -XX:MaxPermSize=768m\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# cp bin/setenv.sh /usr/local/tomcat6/bin/"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 server.xml 을 수정하면 되는데 공홈메뉴얼에서는 이렇게 설명하고 있다.\nbuild 된 디렉토리에서\ndist-tomcat/tomcat-6/jira.xml 파일의 내용을 복사해서 넣어줘라!\n이게 그 내용이니까 그냥 복사 붙여넣기 하자~!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /usr/local/tomcat7/conf/server.xml"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"요로코롬 Host 어쩌구 시작하는 곳 밑에 넣어준다.\n…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"xml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"Host"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"localhost"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"appBase"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"webapps"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"unpackWARs"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"true"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"autoDeploy"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"true"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"xmlValidation"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"false"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"xmlNamespaceAware"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"false"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"Context"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"path"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"/jira"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"docBase"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"/usr/local/atlassian-jira-5.2.10/dist-tomcat/tomcat-6/atlassian-jira-5.2.10.war"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"debug"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"useHttpOnly"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"true"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"Resource"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"UserTransaction"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"auth"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"Container"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"javax.transaction.UserTransaction"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"factory"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"org.objectweb.jotm.UserTransactionFactory"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"jotm.timeout"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"60"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"Manager"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"pathname"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"Context"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 mysql 드라이버와 관련 라이브러리들을 복사해서 넣어주어야 한다. 다운은 요기서.\n"},{"type":"element","tagName":"a","properties":{"href":"http://dev.mysql.com/downloads/connector/j"},"children":[{"type":"text","value":"http://dev.mysql.com/downloads/connector/j"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tomcat 6 JARs: "},{"type":"element","tagName":"a","properties":{"href":"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-6x.zip"},"children":[{"type":"text","value":"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-6x.zip"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tomcat 7 JARs: "},{"type":"element","tagName":"a","properties":{"href":"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-7x.zip"},"children":[{"type":"text","value":"http://www.atlassian.com/software/jira/downloads/binary/jira-jars-tomcat-distribution-6.0-m10-tomcat-7x.zip"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"mysql database 를 하나 만들자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CREATE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"DATABASE"}]},{"type":"text","value":" jira "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CHARACTER"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SET"}]},{"type":"text","value":" utf8 "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"COLLATE"}]},{"type":"text","value":" utf8_bin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"jdbc 를 이용하는방법과 DataSource를 이용하는 방법 두가지가 있는데 두번째방법은 아래를 참고..(ㅠㅠ해보질 않았다..)\n"},{"type":"element","tagName":"a","properties":{"href":"https://confluence.atlassian.com/display/JIRA/Installing+JIRA+on+Tomcat+6.0+or+7.0"},"children":[{"type":"text","value":"https://confluence.atlassian.com/display/JIRA/Installing+JIRA+on+Tomcat+6.0+or+7.0"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"세팅이 잘 되었다면\n"},{"type":"element","tagName":"a","properties":{"href":"http://127.0.0.1:8090/jira"},"children":[{"type":"text","value":"http://127.0.0.1:8090/jira"}]},{"type":"text","value":" 하면 접속이 가능하다.\nnginx+mod"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"jk 를 통해 연결을 해주었다면 "},{"type":"element","tagName":"a","properties":{"href":"http://%EB%8F%84%EB%A9%94%EC%9D%B8/jira"},"children":[{"type":"text","value":"http://도메인/jira"}]},{"type":"text","value":" 로 접속이 가능하다.\n[mod"}]},{"type":"text","value":"jk 설정방법은 요기서 !]:{{ site.url }}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"nginx 랑 httpd 두놈은 프록시로 연결해주어야 한다.\nhttpd 는 미리 8080 포트를 이용하게 세팅을 해놓았다 . 아래처럼 연결~!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /etc/nginx/conf.d/virtual.conf"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"...\nserver {\nlisten 80;\nserver_name develop.amuzr.com;\n\n    charset utf-8;\n\n    location / {\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_pass http://127.0.0.1:8080;\n    }\n\n}\n..."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /usr/local/apache2/conf/httpd.conf"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"52번째줄 정도에 port 번호를 8080으로수정."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /etc/nginx/nginx.conf"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프록시 연결시간을 쪼~끔 늘려주자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"#proxy & fastcgi setting"}]},{"type":"text","value":"\nproxy_read_timeout 1800s"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nproxy_buffer_size 32k"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nproxy_buffers "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4"}]},{"type":"text","value":" 64k"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nproxy_busy_buffers_size 64k"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"세팅중 아래와 같은 에러들을 볼 수 있기 때문에 미리 조치한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"-java.netSocketException: Too many open files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# ulimit -a"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# ulimit -n 4096"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"재시작할때 같은 문제를 겪지 않기 위해"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /etc/security/limits.conf"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"파일에도 적용한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"-Packet for query is too large"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /etc/my.cnf"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"mysqld"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":".\nmax_allowed_packet "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" 32M\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 수정한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Confluence 설치"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Confluence 설치는 JIRA 와 크게 다르지 않다.\n같은 방법으로 압축을 풀어주고 데이터 폴더를 지정해주고 server.xml 에 context 를 복사해서 넣어주면 끝이다.\n데이터폴더를 confluence 설치폴더 안에 data 폴더를 만들고 넣어주었다.\n/usr/local/src 에 다운 받아서 압축을 풀었다고 가정하고 진행한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# mv /usr/local/src/confluence-5.1 /usr/local/"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# cd /usr/local/confluence-5.1"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi confluence/WEB-INF/classes/confluence-init.properties"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"properties"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-properties"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-properties"]},"children":[{"type":"text","value":"..\n"},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"confluence.home"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"text","value":"/usr/local/confluence-5.1/data/"}]},{"type":"text","value":"\n.."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# ./build.sh"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# vi /usr/local/tomcat6/conf/server.xml"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"xml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-xml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-xml"]},"children":[{"type":"text","value":"...\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"Context"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"path"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"/confluence"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"docBase"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"/usr/local/confluence-5.1/dist/confluence-5.1.war"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"debug"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"reloadable"}]},{"type":"element","tagName":"span","properties":{"className":["token","attr-value"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"true"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"Context"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n..."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"confluence 도 mysql 을 쓰려면 mysql 커넥터드라이버를 넣어주어야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제\n"},{"type":"element","tagName":"a","properties":{"href":"http://%EB%8F%84%EB%A9%94%EC%9D%B8/jira"},"children":[{"type":"text","value":"http://도메인/jira"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"http://%EB%8F%84%EB%A9%94%EC%9D%B8/confluence"},"children":[{"type":"text","value":"http://도메인/confluence"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"으로 접속하여 설치를 진행하면 된다. 이부분부터는 크게 어렵지 않다.\n중간에 mysql 세팅할때 unicode ~~ utf8 복사해서 잘 넣어준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"만약 중간에 쓰던 파일이 있을경우 설치 도중 import existing 어쩌구.. 하는 부분을 눈여겨 봐서 클릭을해서 가져와야한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기본적으로 jira confluence 는 주기적으로 xml파일로 백업을해서 압축해서 저장하고 있다. 백업옵션은 나중에 바꿀 수 있으며 용량이 크지 않다."}]}],"data":{"quirksMode":false}},"excerpt":"회사들어와서 가장먼저 리눅스를 건들게 된 계기가 된 요 두 프로그램. 간단하게 얘네가 뭐하는 놈들이냐 하면. Jira 는 국내에 더 많이 알려진 redmine 같은 프로그램이다. 이슈들을 등록하고 관리하고 뭐 그런것들이고 플러그인들이 좋은게 너무많다…","timeToRead":6,"frontmatter":{"title":"JIRA 와 Confluence war로 설치하기","userDate":"2013 April 8","date":"2013-04-08 11:17:54 +0900","tags":["tools","jira","confluence","wiki","war"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2013-04-08-install-jira-and-confluence-by-war/","prev":{"excerpt":"paradox 라는 디비가 있는지 오늘 처음 알았다.. 어찌저찌해서 paradox DB를 읽기 위해 PDE 를 찾아서 설치했고\n어찌저찌해서 php 에 paradox 파일을 읽는 모듈이 있다고 해서 찾았다… pecl 패키지 중에 있는데 정상적으로 설치…","timeToRead":1,"frontmatter":{"title":"PHP 에서 paradox DB 설치하기","tags":["php","paradox","db","paradoxdb"],"date":"2013-04-03 18:39:25 +0900","draft":false},"fields":{"layout":"post","slug":"/2013-04-03-install-paradox-library-in-php/"}},"next":{"excerpt":"nginx 와 php-fpm 을 연동할 때 지금은 크게 차이가 없지만 예전에는 아래처럼하는게 속도차이가 확연히 났다고 한다.  구글링해보니 크게 성능차이는 없는것 같지만 그래도 이게 좋다고 하니 다 바꿔봤다. …\nlisten = 127.0.0.1:9…","timeToRead":1,"frontmatter":{"title":"use unix socket on php","tags":["unix_socket","php","linux","centos"],"date":"2013-04-29 09:58:47 +0900","draft":false},"fields":{"layout":"post","slug":"/2013-04-29-use-unix-socket-on-php/"}},"primaryTag":"tools"}}}